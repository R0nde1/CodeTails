{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","src/js/get-error-markup.js","node_modules/@parcel/runtime-js/lib/runtime-74c67ea2b8ce36d2.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-2fc0b2b3edb5b541.js","node_modules/@parcel/runtime-js/lib/runtime-13112499f5c5dd49.js","node_modules/@parcel/runtime-js/lib/runtime-88cc351b7c564cec.js","node_modules/@parcel/runtime-js/lib/runtime-77fa7fe540507398.js","src/js/search.js","src/js/search-storage.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","import servingDesk from '../img/serving_desk.png';\nimport servingDesk2 from '../img/serving_desk@2x.png';\nimport servingMob from '../img/serving_mob.png';\nimport servingMob2 from '../img/serving_mob@2x.png';\n\nexport function getErrorMarkup() {\n    return `<li><picture>\n        <source\n        media=\"(min-width: 768px)\"\n        srcset=\"${servingDesk}, ${servingDesk2} 2x\"\n        type=\"image/png\"/>\n        <source\n        media=\"(max-width: 767px)\"\n        srcset=\"${servingMob}, ${servingMob2} 2x\"\n        type=\"image/png\"/>\n        <img src=\"${servingDesk}\" alt=\"People in the cafe\" width=\"345\" height=\"380\"/>\n        </picture>\n        </li>\n    `;\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('kdgn0') + require('./helpers/bundle-manifest').resolve(\"6Xd3p\");","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","module.exports = require('./helpers/bundle-url').getBundleURL('kdgn0') + require('./helpers/bundle-manifest').resolve(\"FYTdx\");","module.exports = require('./helpers/bundle-url').getBundleURL('kdgn0') + require('./helpers/bundle-manifest').resolve(\"9W9sV\");","module.exports = require('./helpers/bundle-url').getBundleURL('kdgn0') + require('./helpers/bundle-manifest').resolve(\"hFGtO\");","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"kdgn0\\\":\\\"fav-cocktails.f22c950c.js\\\",\\\"6Xd3p\\\":\\\"serving_desk.12e16403.png\\\",\\\"FYTdx\\\":\\\"serving_desk@2x.81b62eeb.png\\\",\\\"9W9sV\\\":\\\"serving_mob.348bdfb7.png\\\",\\\"hFGtO\\\":\\\"serving_mob@2x.f621808a.png\\\"}\"));","import { calculateCocktails } from './calculate';\nimport { fetchCocktailsByName } from './fetch-cocktails';\nimport { getDrinksMarkup } from './get-drinks-markup';\nimport { getErrorMarkup } from './get-error-markup';\nimport { createPagination } from './pagination';\nimport { SearchStorage } from './search-storage';\n\nconst searchForms = document.querySelectorAll('.search-form');\nconst contentResults = document.querySelector('#content-results');\nconst contentTitle = document.querySelector('#content-title');\n\nconst mainSearch = searchForms[0];\nconst mobSearch = searchForms[1];\n\nmainSearch.addEventListener('submit', getCocktails);\nmobSearch.addEventListener('submit', getCocktails);\n\nmainSearch.addEventListener('input', () => {\n  mobSearch.elements.search.value = mainSearch.elements.search.value;\n  SearchStorage.setSearch(mainSearch.elements.search.value);\n});\n\nmobSearch.addEventListener('input', () => {\n  mainSearch.elements.search.value = mobSearch.elements.search.value;\n  SearchStorage.setSearch(mobSearch.elements.search.value);\n});\n\nfunction getCocktails(event) {\n  event.preventDefault();\n  \n  const isHomePage = document.querySelector('[data-page=\"main\"]');\n  const isMobileMenuOpen = document.querySelector('.js-menu-container.is-open');\n\n  if (!isHomePage || isMobileMenuOpen) {\n    window.location = './index.html';\n    return;\n  }\n\n  const cocktailName = event.target.elements.search.value;\n\n  contentTitle.innerHTML = 'Searching results..';\n  contentResults.innerHTML = '';\n  const numberOfCocktails = calculateCocktails();\n\n  fetchCocktailsByName(cocktailName)\n    .then(data => {\n      contentTitle.innerHTML = 'Cocktails';\n      contentResults.innerHTML = \"\";\n      contentResults.append ( ...getDrinksMarkup(\n        data.slice(0, numberOfCocktails)\n      ));\n      createPagination(\n        data,\n        numberOfCocktails,\n        1\n      );\n    })\n    .catch((error) => {\n      contentTitle.innerHTML = error\n      contentResults.innerHTML = getErrorMarkup()\n    });\n}\n","export const SearchStorage = {\n    storageKey: 'search-storage',\n    getSearch() {\n        return JSON.parse(localStorage.getItem(this.storageKey));\n    },\n    setSearch(searchQuery) {\n        localStorage.setItem(this.storageKey, JSON.stringify(searchQuery));\n    },\n    cleanStorage() {\n        localStorage.removeItem(this.storageKey);\n    }\n}\n"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$8TAcd","parcelRequire","$baa922403cd71c06$export$6eb1a59944ddc615","$parcel$interopDefault","$a7MfA","$4zV7L","$cuisc","module","exports","getBundleURL","resolve","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","register","JSON","parse","$80k9Z","$3712c89a73bebba2$export$2d97b735e058843","storageKey","getSearch","localStorage","getItem","this","setSearch","searchQuery","setItem","stringify","cleanStorage","removeItem","$d35904b1c7f1c41e$var$searchForms","document","querySelectorAll","$d35904b1c7f1c41e$var$contentResults","querySelector","$d35904b1c7f1c41e$var$contentTitle","$d35904b1c7f1c41e$var$mainSearch","$d35904b1c7f1c41e$var$mobSearch","$d35904b1c7f1c41e$var$getCocktails","event","preventDefault","isHomePage","isMobileMenuOpen","window","location","cocktailName","target","elements","search","innerHTML","numberOfCocktails","calculateCocktails","$g0jhG","fetchCocktailsByName","then","data","append","$kE9Qy","getDrinksMarkup","slice","$jcFG7","createPagination","catch","error","$g1ABy","getErrorMarkup","addEventListener"],"version":3,"file":"fav-cocktails.f22c950c.js.map"}